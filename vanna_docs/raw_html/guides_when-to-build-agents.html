<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="theme-color" content="#15a8a8" />

		<link rel="icon" type="image/x-icon" href="/favicon.ico" sizes="32x32" />
		<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16" />
		<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32" />
		<link rel="icon" type="image/svg+xml" href="/vanna.svg" />
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
		<link rel="manifest" href="/manifest.json" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet" />
		<!-- Google tag (gtag.js) -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-1YZ053XQJ4"></script>
		<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-1YZ053XQJ4');

		function gtag_report_conversion() {
			console.log('gtag');
		gtag('event', 'conversion', {
			'send_to': 'AW-1047571796/EttBCO-3lrgYENTawvMD'
		});
		}
		</script>
		
		<link href="../../_app/immutable/assets/0.zksLnzhI.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/GitHubStars.YEdjEA4A.css" rel="stylesheet">
		<link href="../../_app/immutable/assets/2.xnTvn9Bk.css" rel="stylesheet"><!--[--><link rel="icon" href="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20height='100%25'%20stroke-miterlimit='10'%20style='fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;'%20version='1.1'%20viewBox='0%200%201024%201024'%20width='100%25'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:vectornator='http://vectornator.io'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3clinearGradient%20gradientTransform='matrix(1.09331%200%200%201.09331%20-47.1838%20-88.8946)'%20gradientUnits='userSpaceOnUse'%20id='LinearGradient'%20x1='237.82'%20x2='785.097'%20y1='549.609'%20y2='549.609'%3e%3cstop%20offset='0'%20stop-color='%23009efd'/%3e%3cstop%20offset='1'%20stop-color='%232af598'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20id='Layer-1'%3e%3cg%20opacity='1'%3e%3cpath%20d='M212.828%20215.239C213.095%20281.169%20213.629%20413.028%20213.629%20413.028C213.629%20413.028%20511.51%20808.257%20513.993%20809.681C612.915%20677.809%20810.759%20414.065%20810.759%20414.065C810.759%20414.065%20811.034%20280.901%20811.172%20214.319C662.105%20362.973%20662.105%20362.973%20513.038%20511.627C362.933%20363.433%20362.933%20363.433%20212.828%20215.239Z'%20fill='url(%23LinearGradient)'%20fill-rule='nonzero'%20opacity='1'%20stroke='none'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e"/> <link rel="canonical" href="https://vanna.ai/docs/guides/when-to-build-agents"/>  <meta name="description" content="Build AI agents that ship to production. User-scoped execution, rich UI components, and quota management built-in."/> <meta name="robots" content="index, follow, max-image-preview:large"/> <meta name="author" content="Vanna AI Team"/> <meta name="googlebot" content="index, follow"/>  <meta property="og:site_name" content="Vanna AI"/> <meta property="og:description" content="Build AI agents that ship to production. User-scoped execution, rich UI components, and quota management built-in."/> <meta property="og:image:width" content="1200"/> <meta property="og:image:height" content="630"/> <meta property="og:url" content="https://vanna.ai/docs/guides/when-to-build-agents"/> <meta property="og:type" content="website"/> <meta property="og:locale" content="en_US"/> <meta name="twitter:card" content="summary_large_image"/> <meta name="twitter:site" content="@vannadotai"/> <meta name="twitter:creator" content="@vannadotai"/> <meta name="twitter:description" content="Build AI agents that ship to production. User-scoped execution, rich UI components, and quota management built-in."/> <!----><script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","name":"Vanna AI","url":"https://vanna.ai","logo":"https://vanna.ai/vanna.svg","sameAs":["https://github.com/vanna-ai/vanna","https://twitter.com/vannadotai","https://linkedin.com/company/vanna-ai"],"description":"Build AI agents that ship to production. User-scoped execution, rich UI components, and quota management built-in."}</script><!----> <!----><script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","url":"https://vanna.ai","name":"Vanna AI","description":"Build AI agents that ship to production. User-scoped execution, rich UI components, and quota management built-in.","potentialAction":{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https://vanna.ai/docs?q={search_term_string}"},"query-input":"required name=search_term_string"}}</script><!----><!--]--><!--[--><meta property="og:image" content="https://vanna.ai/og/architecture.png"/> <meta name="twitter:image" content="https://vanna.ai/og/architecture.png"/><!--]--><!--[--><!----><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Docs","item":"https://vanna.ai/docs"},{"@type":"ListItem","position":2,"name":"Guides","item":"https://vanna.ai/docs/guides"},{"@type":"ListItem","position":3,"name":"When To Build Agents","item":"https://vanna.ai/docs/guides/when-to-build-agents"}]}</script><!----><!--]--><title>When To Build Agents - Vanna AI Docs</title>
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents"><!--[--><!--[--><!----><!--[--><!----><div class="relative min-h-screen bg-gradient-to-b from-vanna-cream via-white to-vanna-cream"><div class="pointer-events-none absolute inset-0 overflow-hidden"><div class="absolute inset-0 bg-[radial-gradient(circle_at_top_left,rgba(21,168,168,0.12),transparent_60%),radial-gradient(circle_at_bottom_right,rgba(254,93,38,0.08),transparent_65%)]"></div> <div class="absolute inset-0" style="background-image: radial-gradient(circle at 2px 2px, rgba(2, 61, 96, 0.3) 1px, transparent 0); background-size: 32px 32px;"></div> <div class="absolute inset-0 bg-grid-vanna-navy opacity-20" style="background-image: linear-gradient(rgba(2, 61, 96, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(2, 61, 96, 0.1) 1px, transparent 1px); background-size: 100px 100px;"></div> <div class="absolute left-[10%] top-[-12%] h-[26rem] w-[26rem] rounded-full bg-gradient-to-br from-vanna-teal/40 via-vanna-cream to-transparent blur-[180px]"></div> <div class="absolute right-[-12%] top-[18%] h-[30rem] w-[30rem] rounded-full bg-gradient-to-br from-vanna-orange/30 via-vanna-magenta/20 to-transparent blur-[220px]"></div></div> <nav class="sticky top-0 z-50 h-16 bg-vanna-cream/95 backdrop-blur border-b border-vanna-teal/30"><div class="h-full mx-auto flex items-center justify-between px-4 lg:px-8"><div class="flex items-center gap-4"><button class="lg:hidden p-2 text-vanna-navy hover:text-vanna-teal transition-colors" aria-label="Toggle sidebar"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button> <a href="/" class="flex items-center gap-2 text-sm font-medium text-vanna-navy hover:text-vanna-teal transition-colors font-sans"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg> <span class="hidden sm:inline">Back to Vanna.ai</span> <span class="sm:hidden">Back</span></a></div> <span class="hidden md:block text-lg font-semibold text-vanna-navy font-serif">Documentation</span> <!--[--><a href="https://app.vanna.ai" class="inline-flex items-center justify-center font-semibold transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 font-serif bg-vanna-teal text-white shadow-[0_12px_30px_rgba(21,168,168,0.35)] hover:shadow-[0_16px_40px_rgba(21,168,168,0.45)] hover:translate-y-[-1px] focus-visible:ring-vanna-teal focus-visible:ring-offset-white h-9 px-3 text-sm rounded-full"><!---->Get Started Free<!----></a><!--]--><!----></div></nav><!----> <div class="flex relative"><aside class=" -translate-x-full lg:translate-x-0 fixed lg:sticky top-0 lg:top-16 left-0 h-screen lg:h-[calc(100vh-4rem)] w-72 bg-vanna-cream/90 backdrop-blur-sm border-r border-vanna-teal/30 transition-transform duration-300 ease-in-out z-40 overflow-y-auto "><nav class="p-6"><div class="mb-8"><a href="/" class="flex items-center space-x-3 group"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="100%" stroke-miterlimit="10" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" version="1.1" viewBox="0 0 1024 1024" width="100%" xml:space="preserve" class="h-9 w-9"><defs><linearGradient gradientTransform="matrix(1.09331 0 0 1.09331 -47.1838 -88.8946)" gradientUnits="userSpaceOnUse" id="VannaLogoGradient" x1="237.82" x2="785.097" y1="549.609" y2="549.609"><stop offset="0" stop-color="#009efd"></stop><stop offset="1" stop-color="#2af598"></stop></linearGradient></defs><g id="Layer-1"><!--[--><circle cx="512" cy="512" r="480" fill="#023d60" opacity="1"></circle><!--]--><g opacity="1"><path d="M212.828 215.239C213.095 281.169 213.629 413.028 213.629 413.028C213.629 413.028 511.51 808.257 513.993 809.681C612.915 677.809 810.759 414.065 810.759 414.065C810.759 414.065 811.034 280.901 811.172 214.319C662.105 362.973 662.105 362.973 513.038 511.627C362.933 363.433 362.933 363.433 212.828 215.239Z" fill="url(#VannaLogoGradient)" fill-rule="nonzero" opacity="1" stroke="none"></path></g></g></svg><!----> <div><div class="text-xl font-semibold text-vanna-navy group-hover:text-vanna-teal transition-colors font-serif">Vanna AI</div> <div class="text-xs text-slate-500">Documentation</div></div></a></div> <div class="space-y-1"><!--[--><div class="mb-2"><button class="w-full flex items-center justify-between px-3 py-2 text-xs font-semibold text-slate-600 uppercase tracking-wider hover:bg-vanna-teal/5 rounded-lg transition-colors group"><span class="flex items-center gap-2 group-hover:text-vanna-navy transition-colors min-w-0 flex-1 text-left"><!--[--><span class="text-base flex-shrink-0">üöÄ</span><!--]--> <span class="leading-tight break-words">Getting Started</span></span> <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button> <!--[--><ul class="mt-1 space-y-0.5 pl-2"><!--[--><li><a href="/docs" class="group block px-3 py-2 text-sm rounded-lg transition-all text-slate-700 hover:bg-vanna-teal/10 hover:text-vanna-navy" title="What is Vanna 2.0?"><div class="flex items-start gap-2"><div class="flex items-start min-w-0 flex-1"><!--[!--><!--]--> <span class="leading-tight break-words">What is Vanna 2.0?</span></div> <!--[!--><!--]--></div></a></li><li><a href="/docs/quick-start" class="group block px-3 py-2 text-sm rounded-lg transition-all text-slate-700 hover:bg-vanna-teal/10 hover:text-vanna-navy" title="Quickstart with Sample Database"><div class="flex items-start gap-2"><div class="flex items-start min-w-0 flex-1"><!--[!--><!--]--> <span class="leading-tight break-words">Quickstart with Sample Database</span></div> <!--[--><span class="flex-shrink-0 text-[10px] px-1.5 py-0.5 rounded bg-vanna-teal/20 text-vanna-navy font-medium whitespace-nowrap leading-tight">30 sec</span><!--]--></div></a></li><li><a href="/docs/configure" class="group block px-3 py-2 text-sm rounded-lg transition-all text-slate-700 hover:bg-vanna-teal/10 hover:text-vanna-navy" title="Connect to Your Own Database"><div class="flex items-start gap-2"><div class="flex items-start min-w-0 flex-1"><!--[!--><!--]--> <span class="leading-tight break-words">Connect to Your Own Database</span></div> <!--[--><span class="flex-shrink-0 text-[10px] px-1.5 py-0.5 rounded bg-vanna-teal/20 text-vanna-navy font-medium whitespace-nowrap leading-tight">5 min</span><!--]--></div></a></li><li><a href="/docs/migration" class="group block px-3 py-2 text-sm rounded-lg transition-all text-slate-700 hover:bg-vanna-teal/10 hover:text-vanna-navy" title="Migration from 0.x"><div class="flex items-start gap-2"><div class="flex items-start min-w-0 flex-1"><!--[!--><!--]--> <span class="leading-tight break-words">Migration from 0.x</span></div> <!--[!--><!--]--></div></a></li><!--]--></ul><!--]--></div><div class="mb-2"><button class="w-full flex items-center justify-between px-3 py-2 text-xs font-semibold text-slate-600 uppercase tracking-wider hover:bg-vanna-teal/5 rounded-lg transition-colors group"><span class="flex items-center gap-2 group-hover:text-vanna-navy transition-colors min-w-0 flex-1 text-left"><!--[--><span class="text-base flex-shrink-0">üîê</span><!--]--> <span class="leading-tight break-words">Authentication &amp; Permissions</span></span> <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button> <!--[!--><!--]--></div><div class="mb-2"><button class="w-full flex items-center justify-between px-3 py-2 text-xs font-semibold text-slate-600 uppercase tracking-wider hover:bg-vanna-teal/5 rounded-lg transition-colors group"><span class="flex items-center gap-2 group-hover:text-vanna-navy transition-colors min-w-0 flex-1 text-left"><!--[--><span class="text-base flex-shrink-0">üé®</span><!--]--> <span class="leading-tight break-words">Web UI</span></span> <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button> <!--[!--><!--]--></div><div class="mb-2"><button class="w-full flex items-center justify-between px-3 py-2 text-xs font-semibold text-slate-600 uppercase tracking-wider hover:bg-vanna-teal/5 rounded-lg transition-colors group"><span class="flex items-center gap-2 group-hover:text-vanna-navy transition-colors min-w-0 flex-1 text-left"><!--[--><span class="text-base flex-shrink-0">üö¢</span><!--]--> <span class="leading-tight break-words">Deployment</span></span> <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button> <!--[!--><!--]--></div><div class="mb-2"><button class="w-full flex items-center justify-between px-3 py-2 text-xs font-semibold text-slate-600 uppercase tracking-wider hover:bg-vanna-teal/5 rounded-lg transition-colors group"><span class="flex items-center gap-2 group-hover:text-vanna-navy transition-colors min-w-0 flex-1 text-left"><!--[--><span class="text-base flex-shrink-0">üîß</span><!--]--> <span class="leading-tight break-words">Customization</span></span> <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button> <!--[!--><!--]--></div><div class="mb-2"><button class="w-full flex items-center justify-between px-3 py-2 text-xs font-semibold text-slate-600 uppercase tracking-wider hover:bg-vanna-teal/5 rounded-lg transition-colors group"><span class="flex items-center gap-2 group-hover:text-vanna-navy transition-colors min-w-0 flex-1 text-left"><!--[--><span class="text-base flex-shrink-0">üéì</span><!--]--> <span class="leading-tight break-words">Advanced</span></span> <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button> <!--[!--><!--]--></div><div class="mb-2"><button class="w-full flex items-center justify-between px-3 py-2 text-xs font-semibold text-slate-600 uppercase tracking-wider hover:bg-vanna-teal/5 rounded-lg transition-colors group"><span class="flex items-center gap-2 group-hover:text-vanna-navy transition-colors min-w-0 flex-1 text-left"><!--[--><span class="text-base flex-shrink-0">üîç</span><!--]--> <span class="leading-tight break-words">API Reference</span></span> <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button> <!--[!--><!--]--></div><div class="mb-2"><button class="w-full flex items-center justify-between px-3 py-2 text-xs font-semibold text-slate-600 uppercase tracking-wider hover:bg-vanna-teal/5 rounded-lg transition-colors group"><span class="flex items-center gap-2 group-hover:text-vanna-navy transition-colors min-w-0 flex-1 text-left"><!--[--><span class="text-base flex-shrink-0">‚ùì</span><!--]--> <span class="leading-tight break-words">Help &amp; Support</span></span> <svg class="w-4 h-4 flex-shrink-0 ml-2 transition-transform " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button> <!--[!--><!--]--></div><!--]--></div> <div class="mt-8 px-3"><a href="https://github.com/vanna-ai/vanna" target="_blank" rel="noopener noreferrer" class="inline-flex items-center space-x-2 px-4 py-2 bg-white border border-slate-200 rounded-lg hover:border-slate-300 hover:shadow-md transition-all group svelte-qyb6s4"><svg class="w-5 h-5 text-slate-700 group-hover:text-slate-900 transition-colors" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path></svg> <span class="text-sm font-medium text-slate-700 group-hover:text-slate-900 transition-colors">Star</span> <div class="flex items-center space-x-1 px-2 py-0.5 bg-slate-100 rounded-md min-w-[3rem] justify-center"><!--[--><div class="w-4 h-4 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"></div><!--]--></div></a><!----></div> <div class="mt-6 pt-6 border-t border-slate-200"><div class="space-y-2"><a href="/" class="flex items-center space-x-2 px-3 py-2 text-sm text-slate-600 hover:text-vanna-navy hover:bg-vanna-teal/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg> <span>Back to Home</span></a></div></div></nav><!----></aside> <!--[!--><!--]--> <div class="flex-1 flex relative"><main class="flex-1 px-4 py-8 lg:px-12 lg:py-12 max-w-4xl relative"><!--[--><nav aria-label="Breadcrumb" class="flex items-center space-x-2 text-sm mb-6"><!--[--><!--[!--><!--]--> <!--[!--><a href="/docs" class="text-slate-600 hover:text-blue-600 transition-colors">Docs</a><!--]--><!--[--><svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg><!--]--> <!--[!--><a href="/docs/guides" class="text-slate-600 hover:text-blue-600 transition-colors">Guides</a><!--]--><!--[--><svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg><!--]--> <!--[--><span class="font-medium text-slate-900">When To Build Agents</span><!--]--><!--]--></nav><!--]--> <!--[!--><!--]--> <article class="prose prose-slate max-w-none"><!--[!--><!----><h1 id="when-to-build-agents"><a aria-hidden="true" tabindex="-1" href="#when-to-build-agents"><span class="icon icon-link"></span></a>When to Build Agents</h1> <p>Building AI agents is powerful, but not every problem needs an agent. Use this guide to decide when Vanna Agents is the right fit and how to design agents that stay safe, efficient, and trustworthy.</p> <img src="/diagrams/when-to-build-agents.svg" alt="Decision Tree: When to Build Agents" style="max-width: 100%; height: auto; margin: 2rem 0;"/> <h2 id="deciding-when-to-use-agents"><a aria-hidden="true" tabindex="-1" href="#deciding-when-to-use-agents"><span class="icon icon-link"></span></a>Deciding When to Use Agents</h2> <h3 id="-use-agents-when"><a aria-hidden="true" tabindex="-1" href="#-use-agents-when"><span class="icon icon-link"></span></a>‚úÖ Use Agents When</h3> <p><strong>1. The task has ambiguous, multi-step complexity</strong></p> <ul><li>Requests can branch into different tool sequences</li> <li>Multiple data sources or verification steps are required</li> <li>Example: ‚ÄúAnalyze sales data, compare to forecast, and propose next actions‚Äù</li></ul> <p><strong>2. High-value outcomes justify LLM spend</strong></p> <ul><li>Agents consume more tokens than single-shot prompts</li> <li>Use agents when the output unblocks a human or drives revenue</li> <li>Manage cost with <code>AgentConfig(max_tokens=..., max_tool_iterations=...)</code></li></ul> <p><strong>3. You can verify results quickly</strong></p> <ul><li>Database queries validate against schemas</li> <li>Code changes run tests or linters</li> <li>File edits are diff-able and reversible</li></ul> <p><strong>4. You need controlled autonomy</strong></p> <ul><li>Agents make progress independently but within guardrails</li> <li>Throttle with <code>max_tool_iterations</code>, approvals, and lifecycle hooks</li></ul> <h3 id="-skip-agents-when"><a aria-hidden="true" tabindex="-1" href="#-skip-agents-when"><span class="icon icon-link"></span></a>‚ùå Skip Agents When</h3> <ul><li>The workflow is a deterministic decision tree</li> <li>A single tool call or prompt solves the task</li> <li>Mistakes are irreversible or extremely costly to detect</li></ul> <h2 id="designing-effective-agents"><a aria-hidden="true" tabindex="-1" href="#designing-effective-agents"><span class="icon icon-link"></span></a>Designing Effective Agents</h2> <h3 id="start-simple-compose-the-essentials"><a aria-hidden="true" tabindex="-1" href="#start-simple-compose-the-essentials"><span class="icon icon-link"></span></a>Start Simple: Compose the Essentials</h3> <pre class="language-python"><!----><code class="language-python"><span class="token keyword">from</span> vanna <span class="token keyword">import</span> Agent<span class="token punctuation">,</span> AgentConfig<span class="token punctuation">,</span> MockLlmService<span class="token punctuation">,</span> ToolRegistry<span class="token punctuation">,</span> MemoryConversationStore

agent <span class="token operator">=</span> Agent<span class="token punctuation">(</span>
    llm_service<span class="token operator">=</span>MockLlmService<span class="token punctuation">(</span><span class="token string">"I'm ready to help."</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    tool_registry<span class="token operator">=</span>ToolRegistry<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    conversation_store<span class="token operator">=</span>MemoryConversationStore<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    config<span class="token operator">=</span>AgentConfig<span class="token punctuation">(</span>stream_responses<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span></code><!----></pre> <p><strong>Design principle:</strong> Keep each dependency lightweight. Complexity should come from the composition, not from bespoke orchestration logic.</p> <h3 id="share-the-same-agent-backbone"><a aria-hidden="true" tabindex="-1" href="#share-the-same-agent-backbone"><span class="icon icon-link"></span></a>Share the Same Agent Backbone</h3> <pre class="language-python"><!----><code class="language-python"><span class="token keyword">from</span> vanna <span class="token keyword">import</span> Agent<span class="token punctuation">,</span> AgentConfig
<span class="token keyword">from</span> vanna<span class="token punctuation">.</span>integrations<span class="token punctuation">.</span>anthropic <span class="token keyword">import</span> AnthropicLlmService

<span class="token keyword">def</span> <span class="token function">build_agent</span><span class="token punctuation">(</span>tool_registry<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> Agent<span class="token punctuation">(</span>
        llm_service<span class="token operator">=</span>AnthropicLlmService<span class="token punctuation">(</span>model<span class="token operator">=</span><span class="token string">"claude-sonnet-4"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        tool_registry<span class="token operator">=</span>tool_registry<span class="token punctuation">,</span>
        config<span class="token operator">=</span>AgentConfig<span class="token punctuation">(</span>max_tool_iterations<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>

sql_agent <span class="token operator">=</span> build_agent<span class="token punctuation">(</span>sql_registry<span class="token punctuation">)</span>
filesystem_agent <span class="token operator">=</span> build_agent<span class="token punctuation">(</span>filesystem_registry<span class="token punctuation">)</span></code><!----></pre> <p>Swap registries and configs; keep the orchestration identical for predictable behavior.</p> <h3 id="add-ux-transparency-early"><a aria-hidden="true" tabindex="-1" href="#add-ux-transparency-early"><span class="icon icon-link"></span></a>Add UX Transparency Early</h3> <pre class="language-python"><!----><code class="language-python"><span class="token keyword">async</span> <span class="token keyword">for</span> component <span class="token keyword">in</span> agent<span class="token punctuation">.</span>send_message<span class="token punctuation">(</span>user<span class="token operator">=</span>user<span class="token punctuation">,</span> message<span class="token operator">=</span>prompt<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> component<span class="token punctuation">.</span>rich_component<span class="token punctuation">:</span>
        <span class="token keyword">if</span> component<span class="token punctuation">.</span>rich_component<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">"STATUS_BAR"</span><span class="token punctuation">:</span>
            update_status<span class="token punctuation">(</span>component<span class="token punctuation">.</span>rich_component<span class="token punctuation">)</span>
        <span class="token keyword">if</span> component<span class="token punctuation">.</span>rich_component<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">"TASK_TRACKER"</span><span class="token punctuation">:</span>
            render_checklist<span class="token punctuation">(</span>component<span class="token punctuation">.</span>rich_component<span class="token punctuation">)</span>

    <span class="token keyword">if</span> component<span class="token punctuation">.</span>simple_component<span class="token punctuation">:</span>
        log_text<span class="token punctuation">(</span>component<span class="token punctuation">.</span>simple_component<span class="token punctuation">.</span>text<span class="token punctuation">)</span></code><!----></pre> <p>Real-time status, tasks, and progress bars turn opaque reasoning into a clear workflow.</p> <h2 id="understanding-agent-context-limits"><a aria-hidden="true" tabindex="-1" href="#understanding-agent-context-limits"><span class="icon icon-link"></span></a>Understanding Agent Context Limits</h2> <p>Agents only see what you feed them in the request:</p> <pre class="language-python"><!----><code class="language-python"><span class="token keyword">from</span> vanna <span class="token keyword">import</span> ToolContext

context <span class="token operator">=</span> ToolContext<span class="token punctuation">(</span>
    user<span class="token operator">=</span>user<span class="token punctuation">,</span>
    conversation_id<span class="token operator">=</span><span class="token string">"conv-123"</span><span class="token punctuation">,</span>
    request_id<span class="token operator">=</span><span class="token string">"req-456"</span><span class="token punctuation">,</span>
    metadata<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"workspace_path"</span><span class="token punctuation">:</span> <span class="token string">"/repos/acme"</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span></code><!----></pre> <p><strong>Design implications:</strong></p> <ol><li>Keep tool descriptions concise; they‚Äôre in the LLM prompt budget.</li> <li>Use dual outputs so the LLM gets summaries while humans see full data.</li> <li>Pass critical routing info (workspace, org, locale) via <code>context.metadata</code>.</li></ol> <pre class="language-python"><!----><code class="language-python"><span class="token keyword">from</span> vanna <span class="token keyword">import</span> ToolResult<span class="token punctuation">,</span> UiComponent<span class="token punctuation">,</span> SimpleTextComponent<span class="token punctuation">,</span> DataFrameComponent

<span class="token keyword">return</span> ToolResult<span class="token punctuation">(</span>
    success<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>
    result_for_llm<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f"Query returned </span><span class="token interpolation"><span class="token punctuation">&#123;</span><span class="token builtin">len</span><span class="token punctuation">(</span>rows<span class="token punctuation">)</span><span class="token punctuation">&#125;</span></span><span class="token string"> rows"</span></span><span class="token punctuation">,</span>
    ui_component<span class="token operator">=</span>UiComponent<span class="token punctuation">(</span>
        rich_component<span class="token operator">=</span>DataFrameComponent<span class="token punctuation">.</span>from_records<span class="token punctuation">(</span>rows<span class="token punctuation">,</span> title<span class="token operator">=</span><span class="token string">"Top Customers"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        simple_component<span class="token operator">=</span>SimpleTextComponent<span class="token punctuation">(</span>text<span class="token operator">=</span><span class="token string">"10 rows returned"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span></code><!----></pre> <h2 id="tool-design-best-practices"><a aria-hidden="true" tabindex="-1" href="#tool-design-best-practices"><span class="icon icon-link"></span></a>Tool Design Best Practices</h2> <h3 id="1-strong-typing-with-pydantic"><a aria-hidden="true" tabindex="-1" href="#1-strong-typing-with-pydantic"><span class="icon icon-link"></span></a>1. Strong Typing with Pydantic</h3> <pre class="language-python"><!----><code class="language-python"><span class="token keyword">from</span> typing <span class="token keyword">import</span> Type
<span class="token keyword">from</span> pydantic <span class="token keyword">import</span> BaseModel<span class="token punctuation">,</span> Field
<span class="token keyword">from</span> vanna <span class="token keyword">import</span> Tool<span class="token punctuation">,</span> ToolContext<span class="token punctuation">,</span> ToolResult

<span class="token keyword">class</span> <span class="token class-name">CalculatorArgs</span><span class="token punctuation">(</span>BaseModel<span class="token punctuation">)</span><span class="token punctuation">:</span>
    operation<span class="token punctuation">:</span> <span class="token builtin">str</span> <span class="token operator">=</span> Field<span class="token punctuation">(</span>description<span class="token operator">=</span><span class="token string">"add | subtract | multiply | divide"</span><span class="token punctuation">)</span>
    a<span class="token punctuation">:</span> <span class="token builtin">float</span>
    b<span class="token punctuation">:</span> <span class="token builtin">float</span>

<span class="token keyword">class</span> <span class="token class-name">CalculatorTool</span><span class="token punctuation">(</span>Tool<span class="token punctuation">[</span>CalculatorArgs<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@property</span>
    <span class="token keyword">def</span> <span class="token function">name</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">str</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">"calculator"</span>

    <span class="token keyword">def</span> <span class="token function">get_args_schema</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> Type<span class="token punctuation">[</span>CalculatorArgs<span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> CalculatorArgs

    <span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">execute</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> context<span class="token punctuation">:</span> ToolContext<span class="token punctuation">,</span> args<span class="token punctuation">:</span> CalculatorArgs<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> ToolResult<span class="token punctuation">:</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code><!----></pre> <h3 id="2-meaningful-errors"><a aria-hidden="true" tabindex="-1" href="#2-meaningful-errors"><span class="icon icon-link"></span></a>2. Meaningful Errors</h3> <pre class="language-python"><!----><code class="language-python"><span class="token keyword">if</span> args<span class="token punctuation">.</span>operation <span class="token keyword">not</span> <span class="token keyword">in</span> <span class="token punctuation">&#123;</span><span class="token string">"add"</span><span class="token punctuation">,</span> <span class="token string">"subtract"</span><span class="token punctuation">,</span> <span class="token string">"multiply"</span><span class="token punctuation">,</span> <span class="token string">"divide"</span><span class="token punctuation">&#125;</span><span class="token punctuation">:</span>
    message <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f"Unsupported operation '</span><span class="token interpolation"><span class="token punctuation">&#123;</span>args<span class="token punctuation">.</span>operation<span class="token punctuation">&#125;</span></span><span class="token string">'"</span></span>
    <span class="token keyword">return</span> ToolResult<span class="token punctuation">(</span>success<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> result_for_llm<span class="token operator">=</span>message<span class="token punctuation">,</span> error<span class="token operator">=</span><span class="token string">"INVALID_OPERATION"</span><span class="token punctuation">)</span></code><!----></pre> <h3 id="3-test-tools-in-isolation"><a aria-hidden="true" tabindex="-1" href="#3-test-tools-in-isolation"><span class="icon icon-link"></span></a>3. Test Tools in Isolation</h3> <pre class="language-python"><!----><code class="language-python">context <span class="token operator">=</span> ToolContext<span class="token punctuation">(</span>user<span class="token operator">=</span>test_user<span class="token punctuation">,</span> conversation_id<span class="token operator">=</span><span class="token string">"test"</span><span class="token punctuation">,</span> request_id<span class="token operator">=</span><span class="token string">"req"</span><span class="token punctuation">)</span>
result <span class="token operator">=</span> <span class="token keyword">await</span> CalculatorTool<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>execute<span class="token punctuation">(</span>context<span class="token punctuation">,</span> CalculatorArgs<span class="token punctuation">(</span>operation<span class="token operator">=</span><span class="token string">"add"</span><span class="token punctuation">,</span> a<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">assert</span> result<span class="token punctuation">.</span>success <span class="token keyword">and</span> result<span class="token punctuation">.</span>result_for_llm <span class="token operator">==</span> <span class="token string">"8"</span></code><!----></pre> <h2 id="permission-based-tool-access"><a aria-hidden="true" tabindex="-1" href="#permission-based-tool-access"><span class="icon icon-link"></span></a>Permission-Based Tool Access</h2> <pre class="language-python"><!----><code class="language-python"><span class="token keyword">from</span> typing <span class="token keyword">import</span> List<span class="token punctuation">,</span> Type
<span class="token keyword">from</span> pydantic <span class="token keyword">import</span> BaseModel<span class="token punctuation">,</span> Field
<span class="token keyword">from</span> vanna <span class="token keyword">import</span> Tool<span class="token punctuation">,</span> ToolContext<span class="token punctuation">,</span> ToolResult<span class="token punctuation">,</span> User

<span class="token keyword">class</span> <span class="token class-name">SensitiveArgs</span><span class="token punctuation">(</span>BaseModel<span class="token punctuation">)</span><span class="token punctuation">:</span>
    resource_id<span class="token punctuation">:</span> <span class="token builtin">str</span> <span class="token operator">=</span> Field<span class="token punctuation">(</span>description<span class="token operator">=</span><span class="token string">"Identifier to mutate"</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">SensitiveTool</span><span class="token punctuation">(</span>Tool<span class="token punctuation">[</span>SensitiveArgs<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@property</span>
    <span class="token keyword">def</span> <span class="token function">required_permissions</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">"admin"</span><span class="token punctuation">,</span> <span class="token string">"write_data"</span><span class="token punctuation">]</span>

    <span class="token keyword">def</span> <span class="token function">get_args_schema</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> Type<span class="token punctuation">[</span>SensitiveArgs<span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> SensitiveArgs

    <span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">execute</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> context<span class="token punctuation">:</span> ToolContext<span class="token punctuation">,</span> args<span class="token punctuation">:</span> SensitiveArgs<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> ToolResult<span class="token punctuation">:</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

user <span class="token operator">=</span> User<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token string">"analyst"</span><span class="token punctuation">,</span> permissions<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"read_data"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
available_tools <span class="token operator">=</span> registry<span class="token punctuation">.</span>get_schemas<span class="token punctuation">(</span>user<span class="token punctuation">)</span>  <span class="token comment"># Automatically filtered</span></code><!----></pre> <p>The registry enforces permissions before execution‚Äîno extra checks required.</p> <h2 id="cost-and-performance-management"><a aria-hidden="true" tabindex="-1" href="#cost-and-performance-management"><span class="icon icon-link"></span></a>Cost and Performance Management</h2> <h3 id="token-budgets--iteration-limits"><a aria-hidden="true" tabindex="-1" href="#token-budgets--iteration-limits"><span class="icon icon-link"></span></a>Token Budgets &amp; Iteration Limits</h3> <pre class="language-python"><!----><code class="language-python">config <span class="token operator">=</span> AgentConfig<span class="token punctuation">(</span>
    max_tokens<span class="token operator">=</span><span class="token number">2000</span><span class="token punctuation">,</span>
    max_tool_iterations<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span>
    temperature<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span></code><!----></pre> <p><code>Agent</code> enforces <code>max_tool_iterations</code>; when exceeded it returns the best-so-far response instead of looping forever.</p> <h3 id="async-by-design"><a aria-hidden="true" tabindex="-1" href="#async-by-design"><span class="icon icon-link"></span></a>Async by Design</h3> <p>All tools are async‚Äîa good pattern is to delegate I/O or batching inside the tool. If you need parallel execution, implement a custom registry or lifecycle hook that schedules tasks concurrently while respecting shared state.</p> <h2 id="use-cases-where-vanna-shines"><a aria-hidden="true" tabindex="-1" href="#use-cases-where-vanna-shines"><span class="icon icon-link"></span></a>Use Cases Where Vanna Shines</h2> <ol><li><strong>Database analysis</strong> ‚Äì <code>RunSqlTool</code>, <code>VisualizeDataTool</code>, and custom summarizers deliver validated insights quickly.</li> <li><strong>Code generation &amp; refactoring</strong> ‚Äì File system tools plus test runners make results easy to verify.</li> <li><strong>Multi-step data workflows</strong> ‚Äì Chain SQL, Python, and visualization tools with deterministic checkpoints.</li> <li><strong>Interactive onboarding</strong> ‚Äì Drive configuration flows with OTP checks, validation tools, and clear status cards.</li></ol> <h2 id="deployment-checklist"><a aria-hidden="true" tabindex="-1" href="#deployment-checklist"><span class="icon icon-link"></span></a>Deployment Checklist</h2> <ul class="contains-task-list"><li class="task-list-item"><input type="checkbox" disabled/> Task requires reasoning across steps or systems</li> <li class="task-list-item"><input type="checkbox" disabled/> <code>max_tokens</code> &amp; <code>max_tool_iterations</code> tuned for your budget</li> <li class="task-list-item"><input type="checkbox" disabled/> Tools validated independently</li> <li class="task-list-item"><input type="checkbox" disabled/> <code>required_permissions</code> applied to sensitive tools</li> <li class="task-list-item"><input type="checkbox" disabled/> Progress UI hooks in place (status, tasks, artifacts)</li> <li class="task-list-item"><input type="checkbox" disabled/> Conversation storage configured with retention policy</li> <li class="task-list-item"><input type="checkbox" disabled/> Evaluation suite ready for regression testing</li></ul> <h2 id="next-steps"><a aria-hidden="true" tabindex="-1" href="#next-steps"><span class="icon icon-link"></span></a>Next Steps</h2> <ul><li>Follow the <a href="/docs/quick-start">Quick Start</a> to stand up your first agent</li> <li>Deep-dive into the <a href="/docs/concepts/how-it-works">architecture</a> when you need custom integrations</li> <li>Compare deployment options in <a href="/docs/guides/oss-vs-premium">OSS vs. hosted</a></li></ul> <hr/> <p><strong>Remember:</strong> Start with the smallest viable agent, prove value, then harden with permissions, observability, and evaluations. Vanna Agents gives you the knobs‚Äîyou decide how much autonomy to grant.</p><!----><!--]--><!----></article></main> <aside class="hidden xl:block w-64 self-start sticky top-16 h-[calc(100vh-4rem)] overflow-y-auto border-l border-vanna-teal/30 bg-vanna-cream/40 backdrop-blur-sm py-8"><div class="px-6"><!--[!--><!--]--><!----></div></aside></div></div></div><!----><!--]--><!----><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_16trznd = {
						base: new URL("../..", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../../_app/immutable/entry/start.DcOBynbd.js"),
						import("../../_app/immutable/entry/app.-MFgy3Ey.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 2, 16],
							data: [null,null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
